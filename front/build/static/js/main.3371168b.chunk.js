(this["webpackJsonpecommerce-meli"]=this["webpackJsonpecommerce-meli"]||[]).push([[0],{119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(53),c=a.n(s),o=(a(119),a(120),a(121),a(25)),r=a(13),i=a(5),l=(a(122),a(15)),d=a(16),j=a(17),h=a(18),u=(a(123),a(0)),m=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.home,e}return Object(d.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"card card-home",children:[Object(u.jsx)(r.b,{className:"card-home-img-link",to:"/homes/".concat(this.state.id),children:"house"===this.state.type?Object(u.jsx)("img",{src:"/home.png",className:"card-home-img-top",alt:"Icon Home"}):Object(u.jsx)("img",{src:"/loft.png",className:"card-home-img-top loft",alt:"Icon Loft"})}),Object(u.jsx)("div",{className:"card-home-body",children:Object(u.jsxs)("div",{className:"card-home-body-description",children:[Object(u.jsx)("h5",{className:"card-home-title",children:this.state.name}),Object(u.jsx)("p",{className:"card-home-text",children:this.state.address})]})})]})}}]),a}(n.Component),b=a(19),p=a.n(b),v=a(43),g=a(141),O="en",f="es",x=a(44),y=a(14),w=Object(y.a)({},O,{hello:"Hello",homes:"Homes",spaces:"My spaces",smart:"Smart Home",username:"Username",password:"Password",login:"Login",logout:"Logout",example:"You have {money} million",myRooms:"My rooms",stats:"Stats",device:"Device",value:"Value",spanish:"Spanish",english:"English",energy:"Energy Consumption",power:"Power Usage (KwH) - Today",online:"You are "}),N=Object(y.a)({},f,{hello:"Hola",homes:"Casas",spaces:"Mis espacios",smart:"Smart Home",username:"Usuario",password:"Contrase\xf1a",login:"Entrar",logout:"Salir",example:"Tu tienes {money, plural, =0 { nada} one {# un mill\xf3n} other {# millones}}",myRooms:"Mis habitaciones",stats:"Estad\xedsticas",device:"Dispositivo",value:"Valor",spanish:"Espa\xf1ol",english:"Ingl\xe9s",energy:"Consumo de energ\xeda",power:"Consumo de energ\xeda (KwH) - Hoy",online:"Est\xe1s"}),k=Object(x.a)(Object(x.a)({},w),N),S="/api/homes",M="",C=function(){var e=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(S).then(A));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(S,"/").concat(t)).then(A));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function L(e){M=e}var A=function(e){return e.json()},E=a(142),H=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){navigator.onLine?C().then((function(e){s(e),localStorage.setItem("homes",JSON.stringify(e))})):null===localStorage.getItem("homes")?s("Loading..."):s(JSON.parse(localStorage.getItem("homes")))}),[]),Object(u.jsxs)("div",{className:"container home",children:[Object(u.jsxs)("div",{className:"online-tooltip",children:[Object(u.jsx)(E.a,{id:"online",defaultMessage:"You are "}),navigator.onLine?" online":" offline"]}),Object(u.jsx)("h1",{children:Object(u.jsx)(E.a,{id:"spaces",defaultMessage:"My Spaces"})}),Object(u.jsx)("div",{className:"row",children:a&&a.map((function(e){return!0===e.isActive?Object(u.jsx)(m,{home:e}):Object(u.jsx)("p",{})}))})]})},T=(a(134),a(135),function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.room,e}return Object(d.a)(a,[{key:"replaces",value:function(e){return e.replace(/ /g,"_")}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"card card-room",children:[Object(u.jsx)("div",{className:"card-room-body",children:Object(u.jsx)("div",{className:"card-home-body-description",children:Object(u.jsx)("h5",{className:"card-home-title",children:this.state.name})})}),Object(u.jsx)(r.b,{className:"card-room-img-link",onClick:L.bind(this,this.state.name),to:"/homes/".concat(this.state.homeId,"/").concat(this.replaces(this.state.name)),children:"kitcken"===this.state.type?Object(u.jsx)("img",{src:"/kitchen.png",className:"card-home-img-top",alt:"Icon kitchen"}):Object(u.jsx)("img",{src:"/living-room.png",className:"card-home-img-top living-room",alt:"Icon living room"})})]})}}]),a}(n.Component)),U=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.device,e.z=e.props.z,e}return Object(d.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:this.z}),Object(u.jsx)("td",{children:this.state.id}),Object(u.jsx)("td",{children:this.state.name}),Object(u.jsx)("td",{children:this.state.desired.value})]})}}]),a}(n.Component),W=a(22),P=(a(136),function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.data,e}return Object(d.a)(a,[{key:"createGraph",value:function(){W.c("#canvas").selectAll("svg").remove();var e=Math.min(450,450)/2-40,t=W.a().innerRadius(0).outerRadius(e),a=W.c("#canvas").append("svg").attr("width",450).attr("height",450),n=["#21094e","#511281","#4ca1a3","#a5e1ad"],s=W.b().value((function(e){return e.powerUsage.value}))(this.state),c=a.selectAll("g.arc").data(s).enter().append("g").attr("class","arc").attr("transform","translate("+e+","+e+")").on("mouseover",(function(e,t){W.c("#tooltip").style("left",e.pageX+"px").style("top",e.pageY+"px").style("opacity",1).select("#value").text(t.data.name+" : "+t.value+"KwH")})).on("mouseout",(function(){W.c("#tooltip").style("opacity",0)}));c.append("path").attr("fill",(function(e,t){return n[t]})).attr("d",t),c.append("text").attr("transform",(function(e){return"translate("+t.centroid(e)+")"})).attr("text-anchor","middle").text()}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{id:"canvas",className:"row",children:[Object(u.jsxs)("div",{id:"tooltip",class:"hidden",className:"tooltip",children:[Object(u.jsx)(E.a,{id:"energy",defaultMessage:"Energy Consumption"}),Object(u.jsx)("p",{children:Object(u.jsx)("span",{id:"value",children:"100"})})]}),this.createGraph()]})})}}]),a}(n.Component)),R=function(){var e=Object(i.f)().id,t=0,a=Object(n.useState)([]),s=Object(o.a)(a,2),c=s[0],r=s[1];return Object(n.useEffect)((function(){navigator.onLine?I(e).then((function(t){r(t),localStorage.setItem("rooms"+e,JSON.stringify(t))})):null===localStorage.getItem("rooms"+e)?r("Loading..."):r(JSON.parse(localStorage.getItem("rooms"+e)))}),[]),Object(u.jsxs)("div",{className:"container home",children:[Object(u.jsxs)("div",{className:"online-tooltip",children:[Object(u.jsx)(E.a,{id:"online",defaultMessage:"You are "}),navigator.onLine?" online":" offline"]}),Object(u.jsx)("h1",{children:Object(u.jsx)(E.a,{id:"myRooms",defaultMessage:"My Rooms"})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("div",{className:"row",children:c.rooms&&c.rooms.map((function(e){return Object(u.jsx)(T,{room:e})}))})}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsxs)("table",{class:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col",children:"ID"}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)(E.a,{id:"device",defaultMessage:"Device"})}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)(E.a,{id:"value",defaultMessage:"Value"})})]})}),Object(u.jsx)("tbody",{children:c.rooms&&c.rooms.map((function(e){return e.devices.map((function(a){return e.name===M?Object(u.jsx)(U,{device:a,z:t++}):null}))}))})]})})]}),Object(u.jsxs)("h2",{children:[" ",Object(u.jsx)(E.a,{id:"power",defaultMessage:"Power Usage (KwH) - Today"})," "]}),Object(u.jsx)("div",{id:"canvas",children:c.rooms&&Object(u.jsx)(P,{data:c.rooms})})]})},J=(a(137),function(e){var t=e.setLanguage;return Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)(r.b,{className:"navbar-brand",to:"/",children:Object(u.jsx)(E.a,{id:"smart",defaultMessage:"Smart House"})}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(u.jsxs)("div",{className:"navbar-nav",children:[Object(u.jsx)("div",{className:"navbar-nav-links",children:Object(u.jsx)(r.b,{className:"nav-link active","aria-current":"page",to:"/homes",children:Object(u.jsx)(E.a,{id:"spaces",defaultMessage:"My Spaces"})})}),Object(u.jsx)("div",{className:"navbar-nav-controls",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){return t(f)},children:Object(u.jsx)(E.a,{id:"spanish",defaultMessage:"Spanish"})}),Object(u.jsx)("button",{onClick:function(){return t(O)},children:Object(u.jsx)(E.a,{id:"english",defaultMessage:"English"})})]})})]})})]})})}),D=function(){var e=Object(n.useState)(O),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(u.jsx)(g.a,{locale:a,messages:k[a],children:Object(u.jsxs)(r.a,{children:[Object(u.jsx)(J,{setLanguage:s}),Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",children:Object(u.jsx)(H,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/homes",children:Object(u.jsx)(H,{})}),Object(u.jsx)(i.a,{path:"/homes/:id",children:Object(u.jsx)(R,{})}),Object(u.jsx)(i.a,{path:"/homes/:id/:cuarto",children:Object(u.jsx)(R,{})})]})]})})};var F=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("main",{children:Object(u.jsx)(D,{})})})},Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,143)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),c(e),o(e)}))};c.a.render(Object(u.jsx)(F,{}),document.getElementById("root")),K(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):z(t,e)}))}}()}},[[138,1,2]]]);
//# sourceMappingURL=main.3371168b.chunk.js.map