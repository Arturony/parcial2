(this["webpackJsonpecommerce-meli"]=this["webpackJsonpecommerce-meli"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(55),c=a.n(s),o=(a(121),a(122),a(123),a(25)),r=a(13),i=a(5),l=(a(124),a(15)),d=a(16),j=a(17),u=a(18),h=(a(125),a(0)),m=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.home,e}return Object(d.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"card card-home",children:[Object(h.jsx)(r.b,{className:"card-home-img-link",to:"/homes/".concat(this.state.id),children:"house"===this.state.type?Object(h.jsx)("img",{src:"/home.png",className:"card-home-img-top",alt:"Icon Home"}):Object(h.jsx)("img",{src:"/loft.png",className:"card-home-img-top loft",alt:"Icon Loft"})}),Object(h.jsx)("div",{className:"card-home-body",children:Object(h.jsxs)("div",{className:"card-home-body-description",children:[Object(h.jsx)("h5",{className:"card-home-title",children:this.state.name}),Object(h.jsx)("p",{className:"card-home-text",children:this.state.address})]})})]})}}]),a}(n.Component),b=a(19),p=a.n(b),v=a(45),g=a(26),O=a(33),f="/api/homes",x="",y=function(){var e=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(f).then(M));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(f,"/").concat(t)).then(M));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function N(e){x=e}var k={locale:"es",messages:g};function S(e){switch(e){case"es":k.messages=g;break;case"en":default:k.messages=O}k.locale=e}var M=function(e){return e.json()},C=a(144),I=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){navigator.onLine?y().then((function(e){s(e),localStorage.setItem("homes",JSON.stringify(e))})):null===localStorage.getItem("homes")?s("Loading..."):s(JSON.parse(localStorage.getItem("homes")))}),[]),Object(h.jsxs)("div",{className:"container home",children:[Object(h.jsxs)("div",{className:"online-tooltip",children:[Object(h.jsx)(C.a,{id:"online",defaultMessage:"You are "}),navigator.onLine?" online":" offline"]}),Object(h.jsx)("h1",{children:Object(h.jsx)(C.a,{id:"space",defaultMessage:"My Spaces"})}),Object(h.jsx)("div",{className:"row",children:a&&a.map((function(e){return!0===e.isActive?Object(h.jsx)(m,{home:e}):Object(h.jsx)("p",{})}))})]})},L=(a(136),a(137),function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.room,e}return Object(d.a)(a,[{key:"replaces",value:function(e){return e.replace(/ /g,"_")}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"card card-room",children:[Object(h.jsx)("div",{className:"card-room-body",children:Object(h.jsx)("div",{className:"card-home-body-description",children:Object(h.jsx)("h5",{className:"card-home-title",children:this.state.name})})}),Object(h.jsx)(r.b,{className:"card-room-img-link",onClick:N.bind(this,this.state.name),to:"/homes/".concat(this.state.homeId,"/").concat(this.replaces(this.state.name)),children:"kitcken"===this.state.type?Object(h.jsx)("img",{src:"/kitchen.png",className:"card-home-img-top",alt:"Icon kitchen"}):Object(h.jsx)("img",{src:"/living-room.png",className:"card-home-img-top living-room",alt:"Icon living room"})})]})}}]),a}(n.Component)),A=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.device,e.z=e.props.z,e}return Object(d.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:this.z}),Object(h.jsx)("td",{children:this.state.id}),Object(h.jsx)("td",{children:this.state.name}),Object(h.jsx)("td",{children:this.state.desired.value})]})}}]),a}(n.Component),E=a(22),H=(a(138),function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=e.props.data,e}return Object(d.a)(a,[{key:"createGraph",value:function(){E.c("#canvas").selectAll("svg").remove();var e=Math.min(450,450)/2-40,t=E.a().innerRadius(0).outerRadius(e),a=E.c("#canvas").append("svg").attr("width",450).attr("height",450),n=["#21094e","#511281","#4ca1a3","#a5e1ad"],s=E.b().value((function(e){return e.powerUsage.value}))(this.state),c=a.selectAll("g.arc").data(s).enter().append("g").attr("class","arc").attr("transform","translate("+e+","+e+")").on("mouseover",(function(e,t){E.c("#tooltip").style("left",e.pageX+"px").style("top",e.pageY+"px").style("opacity",1).select("#value").text(t.data.name+" : "+t.value+"KwH")})).on("mouseout",(function(){E.c("#tooltip").style("opacity",0)}));c.append("path").attr("fill",(function(e,t){return n[t]})).attr("d",t),c.append("text").attr("transform",(function(e){return"translate("+t.centroid(e)+")"})).attr("text-anchor","middle").text()}},{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{id:"canvas",className:"row",children:[Object(h.jsxs)("div",{id:"tooltip",class:"hidden",className:"tooltip",children:[Object(h.jsx)(C.a,{id:"room",defaultMessage:"Energy Consumption"}),Object(h.jsx)("p",{children:Object(h.jsx)("span",{id:"value",children:"100"})})]}),this.createGraph()]})})}}]),a}(n.Component)),J=function(){var e=Object(i.f)().id,t=0,a=Object(n.useState)([]),s=Object(o.a)(a,2),c=s[0],r=s[1];return Object(n.useEffect)((function(){navigator.onLine?w(e).then((function(t){r(t),localStorage.setItem("rooms"+e,JSON.stringify(t))})):null===localStorage.getItem("rooms"+e)?r("Loading..."):r(JSON.parse(localStorage.getItem("rooms"+e)))}),[]),Object(h.jsxs)("div",{className:"container home",children:[Object(h.jsxs)("div",{className:"online-tooltip",children:[Object(h.jsx)(C.a,{id:"online",defaultMessage:"You are "}),navigator.onLine?" online":" offline"]}),Object(h.jsx)("h1",{children:Object(h.jsx)(C.a,{id:"room",defaultMessage:"My Rooms"})}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsx)("div",{className:"row",children:c.rooms&&c.rooms.map((function(e){return Object(h.jsx)(L,{room:e})}))})}),Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsxs)("table",{class:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"ID"}),Object(h.jsx)("th",{scope:"col",children:Object(h.jsx)(C.a,{id:"device",defaultMessage:"Device"})}),Object(h.jsx)("th",{scope:"col",children:Object(h.jsx)(C.a,{id:"value",defaultMessage:"Value"})})]})}),Object(h.jsx)("tbody",{children:c.rooms&&c.rooms.map((function(e){return e.devices.map((function(a){return e.name===x?Object(h.jsx)(A,{device:a,z:t++}):null}))}))})]})})]}),Object(h.jsxs)("h2",{children:[" ",Object(h.jsx)(C.a,{id:"room",defaultMessage:"Power Usage (KwH) - Today"})," "]}),Object(h.jsx)("div",{id:"canvas",children:c.rooms&&Object(h.jsx)(H,{data:c.rooms})})]})},T=(a(139),function(e){e.setLanguage;return Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)(r.b,{className:"navbar-brand",to:"/",children:Object(h.jsx)(C.a,{id:"smart",defaultMessage:"Smart House"})}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(h.jsxs)("div",{className:"navbar-nav",children:[Object(h.jsx)("div",{className:"navbar-nav-links",children:Object(h.jsx)(r.b,{className:"nav-link active","aria-current":"page",to:"/homes",children:Object(h.jsx)(C.a,{id:"spaces",defaultMessage:"My Spaces"})})}),Object(h.jsx)("div",{className:"navbar-nav-controls",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){return S("es")},children:Object(h.jsx)(C.a,{id:"spanish",defaultMessage:"Spanish"})}),Object(h.jsx)("button",{onClick:function(){return S("en")},children:Object(h.jsx)(C.a,{id:"english",defaultMessage:"English"})})]})})]})})]})})}),U=a(143),W="en-us",P="es-co",R=a(47),D=a(14),F=Object(D.a)({},W,{hello:"Hello",homes:"Homes",spaces:"My spaces",smart:"Smart Home",username:"Username",password:"Password",login:"Login",logout:"Logout",example:"You have {money} million",myRooms:"My rooms",stats:"Stats"}),Y=Object(D.a)({},P,{hello:"Hola",homes:"Casas",spaces:"Mis espacios",smart:"Smart Home",username:"Usuario",password:"Contrase\xf1a",login:"Entrar",logout:"Salir",example:"Tu tienes {money, plural, =0 { nada} one {# un mill\xf3n} other {# millones}}",myRooms:"Mis habitaciones",stats:"Estad\xedsticas"}),z=Object(R.a)(Object(R.a)({},F),Y),K=function(){var e=Object(n.useState)(W),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(h.jsx)(U.a,{locale:a,messages:z[a],children:Object(h.jsxs)(r.a,{children:[Object(h.jsx)(T,{setLanguage:s}),Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{exact:!0,path:"/",children:Object(h.jsx)(I,{})}),Object(h.jsx)(i.a,{exact:!0,path:"/homes",children:Object(h.jsx)(I,{})}),Object(h.jsx)(i.a,{path:"/homes/:id",children:Object(h.jsx)(J,{})}),Object(h.jsx)(i.a,{path:"/homes/:id/:cuarto",children:Object(h.jsx)(J,{})})]})]})})};var B=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("main",{children:Object(h.jsx)(K,{})})})},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,145)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),c(e),o(e)}))};c.a.render(Object(h.jsxs)(U.a,{locale:"es",messages:g,children:[Object(h.jsx)(B,{}),Object(h.jsx)("script",{src:"https://d3js.org/d3.v4.js"})]}),document.getElementById("root")),X(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");V?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):G(t,e)}))}}()},26:function(e){e.exports=JSON.parse('{"smart":"Casa inteligente","space":"Mis espacios","room":"Mis cuartos","device":"Dispositivo","value":"Valor","spanish":"Espa\xf1ol","english":"Ingl\xe9s","energy":"Consumo de energ\xeda","power":"Consumo de energ\xeda (KwH) - Hoy","online":"Est\xe1s "}')},33:function(e){e.exports=JSON.parse('{"smart":"Smart Home","space":"My Spaces","room":"My rooms","device":"Device","value":"Value","spanish":"Spanish","english":"English","energy":"Energy Consumption","power":"Power Usage (KwH) - Today","online":"You are "}')}},[[140,1,2]]]);
//# sourceMappingURL=main.3a07eec3.chunk.js.map